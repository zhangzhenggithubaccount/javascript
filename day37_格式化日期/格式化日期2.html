<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
        function formatDate(t, str) {
            let obj = {
                yyyy : t.getFullYear(),
                yy : String(t.getFullYear()).slice(-2),
                MM : String(t.getMonth() + 1).padStart(2, '0'),
                M : t.getMonth() + 1,
                dd : String(t.getDate()).padStart(2, '0'),
                d : t.getDate(),
                HH : String(t.getHours()).padStart(2, '0'),
                h : t.getHours(),
                mm : String(t.getMinutes()).padStart(2, '0'),
                m : t.getMinutes(),
                ss : String(t.getSeconds()).padStart(2, '0'),
                s : t.getSeconds(),
                w : function() {
                    let week = ['日', '一', '二', '三', '四', '五', '六'];
                    return week[t.getDay()];
                }()
            };
            return str.replace(/([a-z]+)/ig, function($1) {return obj[$1]});
        }
        function valid1() { 
            var localOffset = new Date().getTimezoneOffset()*60*1000; 
            var sResult = formatDate(new Date(1409894060000+localOffset), 'yyyy-MM-dd HH:mm:ss 星期w');
            console.log(sResult); 
            return sResult === '2014-09-05 05:14:20 星期五'; 
        }
        let flag = valid1();
        console.log(flag);
    </script>

</body>
</html>